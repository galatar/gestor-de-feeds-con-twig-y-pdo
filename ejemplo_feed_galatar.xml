<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0"
     xmlns:content="http://purl.org/rss/1.0/modules/content/"
     xmlns:wfw="http://wellformedweb.org/CommentAPI/"
     xmlns:dc="http://purl.org/dc/elements/1.1/"
     xmlns:atom="http://www.w3.org/2005/Atom"
     xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
     xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
     xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#">

    <channel>
        <title>Galatar</title>
        <atom:link href="http://galatar.com/feed/" rel="self" type="application/rss+xml"/>
        <link>http://galatar.com</link>
        <description>Programación Web de cero a infinito</description>
        <lastBuildDate>Tue, 31 Jul 2018 15:22:51 +0000</lastBuildDate>
        <language>es-ES</language>
        <sy:updatePeriod>hourly</sy:updatePeriod>
        <sy:updateFrequency>1</sy:updateFrequency>
        <generator>https://wordpress.org/?v=4.9.7</generator>

        <image>
            <url>http://galatar.com/wp-content/uploads/2018/07/g_torre_3d-1-150x150.png</url>
            <title>Galatar</title>
            <link>http://galatar.com</link>
            <width>32</width>
            <height>32</height>
        </image>
        <site xmlns="com-wordpress:feed-additions:1">123870268</site>
        <item>
            <title>Generar código autonumérico con reinicio anual</title>
            <link>http://galatar.com/generar-codigo-autonumerico-con-reinicio-anual/</link>
            <comments>http://galatar.com/generar-codigo-autonumerico-con-reinicio-anual/#respond</comments>
            <pubDate>Wed, 25 Jul 2018 15:19:34 +0000</pubDate>
            <dc:creator><![CDATA[Juanan Ruiz]]></dc:creator>
            <category><![CDATA[PHP]]></category>
            <category><![CDATA[SQL]]></category>

            <guid isPermaLink="false">http://galatar.com/?p=115</guid>
            <description>
                <![CDATA[Siempre aconsejo que las tablas de una base de datos relacional tengan un campo clave autonumérico de tipo entero, que sea totalmente independiente de cualquier otro campo que contenga la tabla y de cualquier otro campo que forme parte de la &#8220;lógica de negocio&#8221;. Por muy inmutable que te pueda parecer cualquier otro dato, como [&#8230;]]]></description>
            <content:encoded><![CDATA[<p>Siempre aconsejo que las tablas de una base de datos relacional tengan un campo clave autonumérico de tipo entero, que sea totalmente independiente de cualquier otro campo que contenga la tabla y de cualquier otro campo que forme parte de la &#8220;lógica de negocio&#8221;. Por muy inmutable que te pueda parecer cualquier otro dato, como el DNI, la matrícula de un coche o el código de una factura, es preferible tener una clave adicional que identifique ese registro de manera independiente en la base de datos, que &#8220;no tenga que ver nada con nadie&#8221;. </p>
<p><span id="more-115"></span></p>
<p>Hay veces que además de ese campo necesitarás generar una clave única que vaya en parte codificada y en parte autogenerada. Un ejemplo típico suele ser el código de una factura. La mayoría de las empresas utilizan algún tipo de código en el que aparece el año y un numeral que se va incrementando a lo largo del año para volver a cero al año siguiente. </p>
<p>Imagina que tienes que generar una factura que sigue una numeración parecida a esta: &#8220;F-0001/2018&#8221;. Vas a ver como generar una consulta SQL que encuentre el código de factura más alto del año y te devuelva el siguiente. Sería estupendo que también devolviera el número correcto si es la primera factura del año o que le pudiéras pedir el siguiente número de factura de cualquier año concreto. No es mucho pedir ¿no?</p>
<p>Digamos que la tabla de facturas almacena el número de factura en un campo &#8216;codigo&#8217; y también tiene un campo &#8216;fecha_emision&#8217; para almacenar la fecha de emisión de la factura. Para simplificar la consulta vamos a generar de momento las facturas para el año actual.</p>
<div class="codecolorer-container sql solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="sql codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'F-'</span><span style="color: #66cc66;">,</span>LPAD<span style="color: #66cc66;">&#40;</span>SUBSTR<span style="color: #66cc66;">&#40;</span>codigo<span style="color: #66cc66;">,</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">4</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">+</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">4</span><span style="color: #66cc66;">,</span><span style="color: #ff0000;">'0'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'/'</span><span style="color: #66cc66;">,</span> <br />
&nbsp;<span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">AS</span> codigo <br />
&nbsp;<span style="color: #993333; font-weight: bold;">FROM</span> factura <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>fecha_emision<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">=</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">UNION</span><br />
<span style="color: #993333; font-weight: bold;">SELECT</span> CONCAT<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'F-0001'</span><span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'/'</span><span style="color: #66cc66;">,</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">AS</span> codigo<br />
<span style="color: #993333; font-weight: bold;">ORDER</span> <span style="color: #993333; font-weight: bold;">BY</span> codigo <span style="color: #993333; font-weight: bold;">DESC</span> <span style="color: #993333; font-weight: bold;">LIMIT</span> <span style="color: #cc66cc;">1</span>;</div></td></tr></tbody></table></div>
<p>La primera consulta, antes del <strong>UNION</strong>, busca el código más alto del año actual y te lo devuelve sumándole &#8220;1&#8221; y rellenando con ceros a la izquierda.</p>
<p>Si todavía no hay registros para el año en curso, entonces esta primera consulta no devuelve nada pero la segunda parte, después del [strong]UNION[/strong] viene al rescate y genera la primera factura del año.</p>
<p>Si necesitas generar registros para años anteriores solo tienes que modificar esta consulta pasándole el año como parámetro en lugar de las expresiones YEAR(NOW()). </p>
<p>Otra forma parecida de hacerlo sería con esta consulta que no utiliza <strong>UNION</strong></p>
<div class="codecolorer-container sql solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="sql codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #993333; font-weight: bold;">SELECT</span> <span style="color: #993333; font-weight: bold;">CASE</span> <span style="color: #993333; font-weight: bold;">WHEN</span> <span style="color: #993333; font-weight: bold;">COUNT</span><span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">*</span><span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">&gt;</span> <span style="color: #cc66cc;">0</span> <span style="color: #993333; font-weight: bold;">THEN</span> <br />
CONCAT<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'F-'</span><span style="color: #66cc66;">,</span>LPAD<span style="color: #66cc66;">&#40;</span>SUBSTR<span style="color: #66cc66;">&#40;</span>codigo<span style="color: #66cc66;">,</span><span style="color: #cc66cc;">3</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">4</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">+</span><span style="color: #cc66cc;">1</span><span style="color: #66cc66;">,</span><span style="color: #cc66cc;">4</span><span style="color: #66cc66;">,</span><span style="color: #ff0000;">'0'</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'/'</span><span style="color: #66cc66;">,</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">ELSE</span> <br />
CONCAT<span style="color: #66cc66;">&#40;</span><span style="color: #ff0000;">'F-0001'</span><span style="color: #66cc66;">,</span> <span style="color: #ff0000;">'/'</span><span style="color: #66cc66;">,</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span><br />
<span style="color: #993333; font-weight: bold;">END</span> <span style="color: #993333; font-weight: bold;">AS</span> codigo <br />
<span style="color: #993333; font-weight: bold;">FROM</span> factura <span style="color: #993333; font-weight: bold;">WHERE</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>fecha_emision<span style="color: #66cc66;">&#41;</span> <span style="color: #66cc66;">=</span> <span style="color: #993333; font-weight: bold;">YEAR</span><span style="color: #66cc66;">&#40;</span>NOW<span style="color: #66cc66;">&#40;</span><span style="color: #66cc66;">&#41;</span><span style="color: #66cc66;">&#41;</span> <span style="color: #993333; font-weight: bold;">ORDER</span> <span style="color: #993333; font-weight: bold;">BY</span> codigo <span style="color: #993333; font-weight: bold;">DESC</span> <span style="color: #993333; font-weight: bold;">LIMIT</span> <span style="color: #cc66cc;">1</span>;</div></td></tr></tbody></table></div>
<h3>Desde tu código PHP</h3>
<p>Desde PHP se podría ejecutar primero esta consulta y con el &#8220;código&#8221; resultante guardar el registro completo. O, mejor incluso, si hay que rellenar algo en un formulario, ejecutar esto en el script PHP que va a pintar el formulario y dejarlo ya impreso como un &#8220;input disabled&#8221; en el propio formulario. Luego se enviará con el resto de campos para grabar en la base de datos.</p>
<div class="codecolorer-container php solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br />23<br />24<br /></div></td><td><div class="php codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #000000; font-weight: bold;">global</span> <span style="color: #000088;">$dbh</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #000088;">$query</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$dbh</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">prepare</span><span style="color: #009900;">&#40;</span><br />
&nbsp; &nbsp; <span style="color: #0000ff;">&quot;SELECT CONCAT('F-',LPAD(SUBSTR(codigo,3,4)+1,4,'0'), '/', <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; YEAR(NOW())) AS codigo <br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; FROM factura WHERE year(fecha_emision) = YEAR(NOW())<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; UNION<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SELECT CONCAT('F-0001', '/', YEAR(NOW())) AS codigo<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ORDER BY codigo DESC LIMIT 1;<br />
&nbsp; &nbsp; &quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #666666; font-style: italic;">// Establece la forma de devolver los resultados, en este caso devolverá un array asociativo</span><br />
<span style="color: #000088;">$query</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">setFetchMode</span><span style="color: #009900;">&#40;</span>PDO<span style="color: #339933;">::</span><span style="color: #004000;">FETCH_ASSOC</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$query</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">execute</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;!DOCTYPE html&gt;&lt;html lang='en'&gt;&lt;head&gt;&lt;meta charset='UTF-8'&gt;&lt;/head&gt;&lt;body&gt;&quot;</span><span style="color: #339933;">;</span><br />
<span style="color: #b1b100;">while</span> <span style="color: #009900;">&#40;</span><span style="color: #000088;">$row</span> <span style="color: #339933;">=</span> <span style="color: #000088;">$query</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">fetch</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;form method=&quot;post&quot; action=&quot;index.php?p=factura_grabar&quot;&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;input type=&quot;text&quot; name=&quot;codigo&quot; value=&quot;'</span> <span style="color: #339933;">.</span> <span style="color: #000088;">$row</span><span style="color: #009900;">&#91;</span><span style="color: #0000ff;">&quot;codigo&quot;</span><span style="color: #009900;">&#93;</span> <span style="color: #339933;">.</span> <span style="color: #0000ff;">'&quot;&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;input type=&quot;date&quot; name=&quot;fecha_emision&quot;&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;input type=&quot;submit&quot; value=&quot;Grabar factura&quot;&gt;'</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">'&lt;/form&gt;'</span><span style="color: #339933;">;</span><br />
<span style="color: #009900;">&#125;</span><br />
<span style="color: #b1b100;">echo</span> <span style="color: #0000ff;">&quot;&lt;/body&gt;&lt;/html&gt;&quot;</span><span style="color: #339933;">;</span></div></td></tr></tbody></table></div>
<p>Tienes disponible el <a href="https://github.com/galatar/generar-codigo-autonumerico-con-reinicio-anual">código de este tutorial en github</a> por si quieres probarlo &#8220;al completo&#8221;.</p>
]]></content:encoded>
            <wfw:commentRss>http://galatar.com/generar-codigo-autonumerico-con-reinicio-anual/feed/</wfw:commentRss>
            <slash:comments>0</slash:comments>
            <post-id xmlns="com-wordpress:feed-additions:1">115</post-id>
        </item>
        <item>
            <title>Herencia compleja de plantillas en twig</title>
            <link>http://galatar.com/herencia-compleja-de-plantillas-en-twig/</link>
            <comments>http://galatar.com/herencia-compleja-de-plantillas-en-twig/#respond</comments>
            <pubDate>Thu, 12 Jul 2018 16:32:22 +0000</pubDate>
            <dc:creator><![CDATA[Juanan Ruiz]]></dc:creator>
            <category><![CDATA[PHP]]></category>
            <category><![CDATA[Symfony]]></category>
            <category><![CDATA[Twig]]></category>

            <guid isPermaLink="false">http://galatar.com/?p=104</guid>
            <description>
                <![CDATA[La posibilidad de realizar herencias de plantillas o &#8216;templates&#8217; en Twig es una de las características más útiles de este motor de plantillas. Sin embargo en proyectos más complejos la herencia simple de plantillas se queda corta y Twig no permite la herencia múltiple (quizás por la complejidad indeseable que esto supondría). Lo que si [&#8230;]]]></description>
            <content:encoded><![CDATA[<p><img src="http://galatar.com/wp-content/uploads/2018/07/logo_twig-300x241.png" alt="Logo motor de plantillas Twig" width="300" height="241" class="alignright size-medium wp-image-111" srcset="http://galatar.com/wp-content/uploads/2018/07/logo_twig-300x241.png 300w, http://galatar.com/wp-content/uploads/2018/07/logo_twig.png 471w" sizes="(max-width: 300px) 100vw, 300px" />La posibilidad de realizar herencias de plantillas o &#8216;templates&#8217; en Twig es una de las características más útiles de este motor de plantillas.</p>
<p>Sin embargo en proyectos más complejos la herencia simple de plantillas se queda corta y Twig no permite la herencia múltiple (quizás por la complejidad indeseable que esto supondría).</p>
<p>Lo que si está permitido, como he descubierto con alegría hace poco, es la herencia en cascada o herencia por niveles. Esto permite personalizar completamente una aplicación que esté organizada de manera modular o una web que tenga secciones muy diferenciadas.<br />
<span id="more-104"></span></p>
<p>Primero un repaso rápido a como funciona la herencia de plantillas en twig. Aquí tenemos la plantilla base o madre.</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">&#123;</span># templates<span style="color: #66cc66;">/</span>base.html.twig #<span style="color: #66cc66;">&#125;</span><br />
&lt;!DOCTYPE html&gt;<br />
&lt;<a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/meta.html"><span style="color: #000000; font-weight: bold;">meta</span></a> <span style="color: #000066;">charset</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;UTF-8&quot;</span>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/title.html"><span style="color: #000000; font-weight: bold;">title</span></a>&gt;<span style="color: #66cc66;">&#123;</span>% block <span style="color: #000066;">title</span> %<span style="color: #66cc66;">&#125;</span>Probando la herencia en Twig<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/title.html"><span style="color: #000000; font-weight: bold;">title</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/head.html"><span style="color: #000000; font-weight: bold;">head</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;sidebar&quot;</span>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% block barra_lateral %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/&quot;</span>&gt;Inicio&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/blog&quot;</span>&gt;Blog&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/tienda&quot;</span>&gt;Tienda&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;contenido&quot;</span>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% block contenido %<span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</div></td></tr></tbody></table></div>
<p>Y ahora la plantilla hija que hereda de base.html.twig</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">&#123;</span># templates<span style="color: #66cc66;">/</span>inicio.html.twig #<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% extends <span style="color: #ff0000;">'base.html.twig'</span> %<span style="color: #66cc66;">&#125;</span><br />
<br />
<span style="color: #66cc66;">&#123;</span>% block <span style="color: #000066;">title</span> %<span style="color: #66cc66;">&#125;</span>Bienvenido a la web de Twig<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span><br />
<br />
<span style="color: #66cc66;">&#123;</span>% block contenido %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% <span style="color: #000066;">for</span> noticia in noticias %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a>&gt;<span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span> noticia.titulo <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span> noticia.contenido <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% endfor %<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
<p>Ahora quiero diseñar la sección de la tienda, reutilizando la plantilla base para mantener la coherencia visual del sitio, pero no quiero que en la barra de la izquierda haya ninguna referencia al blog o a la página de inicio para que el cliente no se me distraiga y se me vaya. </p>
<p>Ahí me interesa poner un listado de categorías de producto que tengo en la tienda. Y quiero que ese listado me acompañe en cualquier página de la tienda.</p>
<p>Así que defino para la tienda una plantilla intermedia que hereda de la plantilla base</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">&#123;</span># templates<span style="color: #66cc66;">/</span>tienda<span style="color: #66cc66;">/</span>intermedia.html.twig #<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% extends <span style="color: #ff0000;">'base.html.twig'</span> %<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% block <span style="color: #000066;">title</span> %<span style="color: #66cc66;">&#125;</span>Bienvenido a la Tienda de Twig<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% block barra_lateral %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &lt;<a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/tienda/peluches&quot;</span>&gt;Peluches&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/tienda/camisetas&quot;</span>&gt;Camisetas&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;/tienda/posters&quot;</span>&gt;Posters&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;<br />
<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span><br />
<br />
<span style="color: #66cc66;">&#123;</span>% block footer %<span style="color: #66cc66;">&#125;</span><br />
&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;footer&quot;</span>&gt;Todos los artículos que se venden en la tienda son <span style="color: #cc66cc;">100</span>% ecológicos&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<br />
<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
<p>Y ahora haré que todas las páginas de la tienda heredarán de esta plantilla que a su vez hereda de la plantilla base</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #66cc66;">&#123;</span># templates<span style="color: #66cc66;">/</span>tienda<span style="color: #66cc66;">/</span>ofertas.html.twig #<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% extends <span style="color: #ff0000;">'tienda/intermedia.html.twig'</span> %<span style="color: #66cc66;">&#125;</span><br />
<br />
<span style="color: #66cc66;">&#123;</span>% block contenido %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% <span style="color: #000066;">for</span> articulo in ofertas %<span style="color: #66cc66;">&#125;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a>&gt;<span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span> articulo.nombre <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/img.html"><span style="color: #000000; font-weight: bold;">img</span></a> <span style="color: #000066;">src</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;{{ articulo.imagen_url }}&quot;</span>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span> articulo.descripcion <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<br />
&nbsp; &nbsp; &nbsp; &nbsp; &lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;Precio: <span style="color: #66cc66;">&#123;</span><span style="color: #66cc66;">&#123;</span> articulo.precio <span style="color: #66cc66;">&#125;</span><span style="color: #66cc66;">&#125;</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<br />
&nbsp; &nbsp; <span style="color: #66cc66;">&#123;</span>% endfor %<span style="color: #66cc66;">&#125;</span><br />
<span style="color: #66cc66;">&#123;</span>% endblock %<span style="color: #66cc66;">&#125;</span></div></td></tr></tbody></table></div>
<h3Algunos consejos antes de ponerte manos a la obra</h3>
<ul>
<li>Puedes emplear tantos niveles de herencia como desees, pero el más común es este que hemos visto a tres niveles. Más quizás sea complicarte la vida</li>
<li>Cuantas más etiquetas {% block %} incluyas mejor. Las plantillas hijas no tienen que definir todos los bloques de la madre, por lo que puedes crear tantos bloques como vayas a necesitar en las distintas plantillas. Mientras más bloques más flexible será la plantilla.</li>
<p><l>El contenido de un bloque de una plantilla madre se puede reutilizar con la función {{ parent() }}. Esto es útil si quieres añadir contenido al bloque madre en lugar de sobreescribirlo entero. Además puedes poner tu nuevo contenido por encima o por debajo del heredado según te convenga</li>
<li>Si ves que estás duplicando contenido quizás debas mover ese contenido a un {% block %} en una plantilla madre, aunque a veces es mejor moverlo a una plantilla aparte a la que llamarás como include</li>
</ul>
]]></content:encoded>
            <wfw:commentRss>http://galatar.com/herencia-compleja-de-plantillas-en-twig/feed/</wfw:commentRss>
            <slash:comments>0</slash:comments>
            <post-id xmlns="com-wordpress:feed-additions:1">104</post-id>
        </item>
        <item>
            <title>Como crear una lista horizontal con HTML y CSS</title>
            <link>http://galatar.com/como-crear-una-lista-horizontal-con-html-y-css/</link>
            <comments>http://galatar.com/como-crear-una-lista-horizontal-con-html-y-css/#respond</comments>
            <pubDate>Mon, 25 Jun 2018 08:01:45 +0000</pubDate>
            <dc:creator><![CDATA[Juanan Ruiz]]></dc:creator>
            <category><![CDATA[CSS]]></category>

            <guid isPermaLink="false">http://galatar.com/?p=88</guid>
            <description>
                <![CDATA[Si lo piensas un poco HTML es un lenguaje enfocado a apilar los contenidos verticalmente. Los únicos contenidos que quedan alineados horizontalmente son los que están dentro de una misma etiqueta o los que utilizan etiquetas de caracteres como &#60;b&#62;, &#60;i&#62;, &#60;a&#62;, &#60;span&#62; El resto de etiquetas va enfocada a bloques y la disposición por [&#8230;]]]></description>
            <content:encoded><![CDATA[<p><img src="http://galatar.com/wp-content/uploads/2018/06/lista-horizontal-iconos-300x163.png" alt="Iconos con distribución vertical y horizontal" width="300" height="163" class="aligncenter size-medium wp-image-156" srcset="http://galatar.com/wp-content/uploads/2018/06/lista-horizontal-iconos-300x163.png 300w, http://galatar.com/wp-content/uploads/2018/06/lista-horizontal-iconos.png 744w" sizes="(max-width: 300px) 100vw, 300px" /></p>
<p>Si lo piensas un poco HTML es un lenguaje enfocado a apilar los contenidos verticalmente. Los únicos contenidos que quedan alineados horizontalmente son los que están dentro de una misma etiqueta o los que utilizan etiquetas de caracteres como <b>&lt;b&gt;</b>, <b>&lt;i&gt;</b>, <b>&lt;a&gt;</b>, <b>&lt;span&gt;</b></p>
<p>El resto de etiquetas va enfocada a bloques y la disposición por defecto es que se alineen verticalmente <b>&lt;h1&gt;</b>, <b>&lt;p&gt;</b>, <b>&lt;div&gt;</b>, <b>&lt;li&gt;</b>, <b>&lt;dd&gt;</b>, <b>&lt;dt&gt;</b></p>
<p>La única etiqueta de bloque que te permite alinear contenido horizontalmente es la de la celda de una tabla <b>&lt;td&gt;</b> y ahí caemos todos, muy mal <img src="https://s.w.org/images/core/emoji/2.4/72x72/1f641.png" alt="🙁" class="wp-smiley" style="height: 1em; max-height: 1em;" /><br />
<span id="more-88"></span></p>
<p>Las tablas solo deben usarse para mostrar contenido que deba ir alineado en filas y columnas, vaya, para datos tabulados. Utiliza la siguiente regla: si los elementos de una fila determinada se pueden pasar a la fila siguiente sin que la información pierda sentido entonces quizás no debería estar usando una tabla. Por ejemplo imagina que quieres poner una serie de productos de una tienda online en una rejilla para que no ocupen tanto espacio, ¡no uses una tabla!.</p>
<p>¿Que haces entonces? ¡CSS al rescate! CSS te permite cambiar esta manía apilatoria del HTML y permitir distribuir elementos de manera horizontal de manera mucho más efectiva y responsiva que como lo haría una tabla. En el ejemplo anterior de los productos online sólo tienes que poner cada producto dentro de una etiqueta <b>&lt;div&gt;</b> y asignarle el estilo <b>float: left;</b> en el CSS para que queden alineados horizontalmente, además el número de artículos en cada fila se ajustará automáticamente al ancho de la pantalla.</p>
<p>Cuando los elementos que queremos distribuir horizontalmente son más sencillos no deberíamos usar <b>&lt;div&gt;</b> sino las etiquetas para listas de HTML: <b>&lt;ul&gt; &lt;li&gt;</b>  Es el caso típico de un menú de navegación, una lista de iconos de redes sociales o cualquier caso parecido. Vamos a ver un ejemplo con texto y luego otro con imágenes o iconos.</p>
<p>Para hacer un menú de opciones deberíamos entonces hacer algo así:</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">&lt;<a href="http://december.com/html/4/element/style.html"><span style="color: #000000; font-weight: bold;">style</span></a>&gt;<br />
&nbsp; ul.navega li <span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; display: inline;<br />
&nbsp; <span style="color: #66cc66;">&#125;</span><br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/style.html"><span style="color: #000000; font-weight: bold;">style</span></a>&gt;<br />
&lt;<a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;navega&quot;</span>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;Inicio&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;Blog&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;Tienda&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;Contactar&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;</div></td></tr></tbody></table></div>
<p>Como ves lo único que necesitas es definir una clase para la lista e indicar mediante CSS que muestre los elementos de esa lista en formato &#39;inline&#39;.</p>
<p>Ahora te propongo &quot;jugar&quot; un poco con este ejemplo. Duplica o triplica el número de elementos de la lista y luego prueba a reducir el ancho de la ventana de tu navegador. Verás como el contenido se adapta al ancho, esto es algo que no sucedería con una tabla, pruébalo también. (Para poder cambiar el código utiliza el enlace &#8220;Edit on CodePen que aparece en la ventana inferior)</p>
<p data-height="183" data-theme-id="0" data-slug-hash="jKxazo" data-default-tab="html,result" data-user="juananruiz" data-embed-version="2" data-pen-title="Listas horizontales" data-preview="true" class="codepen">See the Pen <a href="https://codepen.io/juananruiz/pen/jKxazo/">Listas horizontales</a> by Juanan (<a href="https://codepen.io/juananruiz">@juananruiz</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<p><script async src="https://static.codepen.io/assets/embed/ei.js"></script></p>
<p>Puedes hacer algo parecido con iconos</p>
<div class="codecolorer-container html4strict solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">&lt;<a href="http://december.com/html/4/element/style.html"><span style="color: #000000; font-weight: bold;">style</span></a>&gt;<br />
&nbsp; @import url<span style="color: #66cc66;">&#40;</span>https:<span style="color: #66cc66;">//</span>cdnjs.cloudflare.com<span style="color: #66cc66;">/</span>ajax<span style="color: #66cc66;">/</span>libs<span style="color: #66cc66;">/</span>font-awesome<span style="color: #66cc66;">/</span>4.6.3<span style="color: #66cc66;">/</span>css<span style="color: #66cc66;">/</span>font-awesome.css<span style="color: #66cc66;">&#41;</span>;<br />
&nbsp; .social-icons li <span style="color: #66cc66;">&#123;</span><br />
&nbsp; &nbsp; vertical-<span style="color: #000066;">align</span>: top;<br />
&nbsp; &nbsp; display: inline;<br />
&nbsp; &nbsp; font-<span style="color: #000066;">size</span>: 1.2em;<br />
&nbsp; &nbsp; padding: 0.5em;<br />
&nbsp; <span style="color: #66cc66;">&#125;</span><br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/style.html"><span style="color: #000000; font-weight: bold;">style</span></a>&gt;<br />
&lt;<a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icons&quot;</span>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icon&quot;</span>&gt; &lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fa fa-facebook&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icon&quot;</span>&gt; &lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fa fa-twitter&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icon&quot;</span>&gt; &lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fa fa-rss&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icon&quot;</span>&gt; &lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fa fa-youtube&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&nbsp; &lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;social-icon&quot;</span>&gt; &lt;<a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;fa fa-google-plus&quot;</span>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/i.html"><span style="color: #000000; font-weight: bold;">i</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;</div></td></tr></tbody></table></div>
<p data-height="174" data-theme-id="0" data-slug-hash="BVxJGo" data-default-tab="html,result" data-user="juananruiz" data-embed-version="2" data-pen-title="Menú horizontal con iconos" class="codepen">See the Pen <a href="https://codepen.io/juananruiz/pen/BVxJGo/">Menú horizontal con iconos</a> by Juanan (<a href="https://codepen.io/juananruiz">@juananruiz</a>) on <a href="https://codepen.io">CodePen</a>.</p>
<p><script async src="https://static.codepen.io/assets/embed/ei.js"></script></p>
]]></content:encoded>
            <wfw:commentRss>http://galatar.com/como-crear-una-lista-horizontal-con-html-y-css/feed/</wfw:commentRss>
            <slash:comments>0</slash:comments>
            <post-id xmlns="com-wordpress:feed-additions:1">88</post-id>
        </item>
        <item>
            <title>Cómo acceder a la API de WordPress desde PHP</title>
            <link>http://galatar.com/como-acceder-a-la-api-de-wordpress-desde-php/</link>
            <comments>http://galatar.com/como-acceder-a-la-api-de-wordpress-desde-php/#respond</comments>
            <pubDate>Tue, 29 May 2018 16:06:18 +0000</pubDate>
            <dc:creator><![CDATA[Juanan Ruiz]]></dc:creator>
            <category><![CDATA[WordPress]]></category>

            <guid isPermaLink="false">http://galatar.com/?p=61</guid>
            <description>
                <![CDATA[En este artículo te muestro un ejemplo de una API de una aplicación web, en este caso la API REST de WordPress. Tras la explicación inicial te planteo un reto para que intentes ver en la práctica como funciona esta API, que utilidades podrías darle y cómo atacarla desde PHP. Más adelante tienes una posible [&#8230;]]]></description>
            <content:encoded><![CDATA[<p>En este artículo te muestro un ejemplo de una API de una aplicación web, en este caso la API REST de WordPress. Tras la explicación inicial te planteo un reto para que intentes ver en la práctica como funciona esta API, que utilidades podrías darle y cómo atacarla desde PHP.</p>
<p>Más adelante tienes una posible solución al ejercicio por si te has quedado atascado en el alguno de los pasos o para que puedas compararla con la tuya.<span id="more-61"></span></p>
<h2>Bueno, pero ¿qué es una API?</h2>
<p>Una <strong>API</strong>,<strong> Application Programming Interface </strong>o<strong> Interfaz de Programación de Aplicaciones</strong>, es un conjunto de métodos que permiten acceder a las funciones de un programa. Sería algo así como un programa hablando con otro programa o una máquina hablando con otra máquina.</p>
<p>Las APIs suelen devolver resultado en dos formatos <strong>XML</strong>, que es muy parecido a HTML pero más estructurado (y que se usa menos en este ámbito porque es una lata) y <strong>JSON</strong> que es más fácil de generar y de procesar posteriormente.</p>
<p>Es el creador de la API quién decidirá que funcionalidad expone públicamente, que nivel de autorización será necesario para utilizar cada una de ellas y que información proporcionará en cada momento.</p>
<p>Las buenas aplicaciones web suelen tener una API potente y bien documentada que permite acceder a sus funciones desde otras propias aplicaciones, aquí tienes algunos ejemplos de APIs:</p>
<ul>
<li><a href="https://developers.google.com/custom-search/json-api/v1/overview?hl=es">Google Search API</a></li>
<li><a href="https://developer.twitter.com/en.html">Twitter APIs</a></li>
<li><a href="https://developer.wordpress.org/rest-api/">WordPress API</a></li>
</ul>
<p>Esta última es la base de este artículo y el punto de partida para que comience tu reto.</p>
<h2>¿Qué es la API de WordPress?</h2>
<p>Cuando accedes como usuario a un <a href="http://demo.wp-api.org/">sitio web hecho con WordPress</a> puedes ver en tu navegador los contenidos que el autor publica, maquetados con fotos, columnas, menús, etc. Si un programa informático intentará acceder a esta misma información lo que obtendría es un documento de texto en formato HTML que pintaría más o menos así.</p>
<pre>

<div class="codecolorer-container html4strict solarized-light language-html" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">&lt;article <span style="color: #000066;">id</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;post-1&quot;</span> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;post&quot;</span>&gt;&lt;header <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;entry-header&quot;</span>&gt;<br />
&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;entry-meta&quot;</span>&gt;May <span style="color: #cc66cc;">23</span>, <span style="color: #cc66cc;">2017</span>&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;<br />
&lt;<a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;entry-title&quot;</span>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;https://demo.wp-api.org/2017/05/23/hello-world/&quot;</span> <span style="color: #000066;">rel</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;bookmark&quot;</span>&gt;Hello world!&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/h2.html"><span style="color: #000000; font-weight: bold;">h2</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span>header&gt;<br />
&lt;<a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a> <span style="color: #000066;">class</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;entry-content&quot;</span>&gt;<br />
&lt;<a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;Welcome to &lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">&quot;http://wp-api.org/&quot;</span>&gt;WP API Demo Sites&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;. This is your first post. Edit or delete it, then <span style="color: #000066;">start</span> blogging!&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/p.html"><span style="color: #000000; font-weight: bold;">p</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/div.html"><span style="color: #000000; font-weight: bold;">div</span></a>&gt;<br />
&lt;<span style="color: #66cc66;">/</span>article&gt;<br />
...</div></td></tr></tbody></table></div>

</pre>
<p>Si te fijas un poco hay bastante información, pero es difícil de entender porque no vemos claramente la estructura, tal como aparece cuando se nos presenta en modo gráfico. Para las personas es más fácil ver y consumir esta información en el contexto de un navegador, que se mostraría más o menos como en la imagen.</p>
<p><img class="aligncenter size-large wp-image-65" src="http://galatar.com/wp-content/uploads/2018/05/homepage_wp_api-1024x688.png" alt="" width="1024" height="688" srcset="http://galatar.com/wp-content/uploads/2018/05/homepage_wp_api-1024x688.png 1024w, http://galatar.com/wp-content/uploads/2018/05/homepage_wp_api-300x202.png 300w, http://galatar.com/wp-content/uploads/2018/05/homepage_wp_api-768x516.png 768w" sizes="(max-width: 1024px) 100vw, 1024px" /></p>
<p>Este formato, tan agradable para nosotros, es muy difícil de digerir para un programa informático que necesite extraer información a partir de la página. Imagina que te pido que crees un programa que obtenga los títulos de los artículos o posts que aparecen en esta página y un enlace a su contenido completo. Lo tendrías crudo ¿verdad?</p>
<p>Por suerte hay otra forma de acceder a esta información utilizando un formato más estructurado, y por tanto más fácil de procesar para un programa informático, además, no sólo permite leer contenido del sitio web, sino que, con la autenticación pertinente, podrías modificar la información o agregar nuevo contenido.</p>
<p>Si accedes al sitio web anterior utilizando la siguiente url <a class="url" href="http://demo.wp-api.org/wp-json" target="_blank" rel="noopener">http://demo.wp-api.org/wp-json</a> obtendrás algo parecido a esto:</p>
<pre>

<div class="codecolorer-container javascript solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></div></td><td><div class="javascript codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;name&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;WP REST API Demo&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;description&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;Just another WP API Demo Sites <br />
site&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;url&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-api.org&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;home&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-<br />
api.org&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;gmt_offset&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;0&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;timezone_string&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;permalink_structure&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;<span style="color: #000099; font-weight: bold;">\/</span>%year%<span style="color: #000099; font-weight: bold;">\/</span>%monthnum%<span style="color: #000099; font-weight: bold;">\/</span>%da<br />
y%<span style="color: #000099; font-weight: bold;">\/</span>%postname%<span style="color: #000099; font-weight: bold;">\/</span>&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;namespaces&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;oembed<span style="color: #000099; font-weight: bold;">\/</span>1.0&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;broker<span style="color: #000099; font-weight: bold;">\/</span>v1&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;wp<span style="color: #000099; font-weight: bold;">\/</span>v2&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;authentication&quot;</span><span style="color: #339933;">:</span><br />
<span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;oauth1&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;request&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-<br />
api.org<span style="color: #000099; font-weight: bold;">\/</span>oauth1<span style="color: #000099; font-weight: bold;">\/</span>request&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;authorize&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-<br />
api.org<span style="color: #000099; font-weight: bold;">\/</span>oauth1<span style="color: #000099; font-weight: bold;">\/</span>authorize&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;access&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-<br />
api.org<span style="color: #000099; font-weight: bold;">\/</span>oauth1<span style="color: #000099; font-weight: bold;">\/</span>access&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;version&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;0.1&quot;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;broker&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-api.org<span style="color: #000099; font-weight: bold;">\/</span>wp-<br />
json<span style="color: #000099; font-weight: bold;">\/</span>broker<span style="color: #000099; font-weight: bold;">\/</span>v1<span style="color: #000099; font-weight: bold;">\/</span>connect&quot;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;routes&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;<span style="color: #000099; font-weight: bold;">\/</span>&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;namespace&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;&quot;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;methods&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;GET&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;endpoints&quot;</span><span style="color: #339933;">:</span><br />
<span style="color: #009900;">&#91;</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;methods&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#91;</span><span style="color: #3366CC;">&quot;GET&quot;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;args&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;context&quot;</span><span style="color: #339933;">:</span><span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;required&quot;</span><span style="color: #339933;">:</span><span style="color: #003366; font-weight: bold;">false</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;default&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;view&quot;</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#93;</span><span style="color: #339933;">,</span><span style="color: #3366CC;">&quot;_links&quot;</span><span style="color: #339933;">:</span><br />
<span style="color: #009900;">&#123;</span><span style="color: #3366CC;">&quot;self&quot;</span><span style="color: #339933;">:</span><span style="color: #3366CC;">&quot;https:<span style="color: #000099; font-weight: bold;">\/</span><span style="color: #000099; font-weight: bold;">\/</span>demo.wp-api.org<span style="color: #000099; font-weight: bold;">\/</span>wp-json<span style="color: #000099; font-weight: bold;">\/</span>&quot;</span><span style="color: #009900;">&#125;</span><span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
...</div></td></tr></tbody></table></div>

</pre>
<p>Este galimatías es un fichero JSON que contiene, de manera muy estructurada, toda la información que devuelve la API del sitio cuando haces una llamada por defecto. Si tienes una versión actualizada de Firefox podrás verlo así de bonito:</p>
<p><img class="aligncenter size-large wp-image-64" src="http://galatar.com/wp-content/uploads/2018/05/json-wp-api-1024x444.png" alt="" width="1024" height="444" srcset="http://galatar.com/wp-content/uploads/2018/05/json-wp-api-1024x444.png 1024w, http://galatar.com/wp-content/uploads/2018/05/json-wp-api-300x130.png 300w, http://galatar.com/wp-content/uploads/2018/05/json-wp-api-768x333.png 768w, http://galatar.com/wp-content/uploads/2018/05/json-wp-api.png 1556w" sizes="(max-width: 1024px) 100vw, 1024px" /></p>
<p>El ejemplo que acabas de ver es sólo un fragmento mínimo de toda la funcionalidad de la API de WordPress, una API que además sigue en desarrollo e incorporando nuevas funciones. Si tienes curiosidad aquí tienes una <a href="%20https://codex.wordpress.org/WordPress_APIs">lista de todas las APIs disponibles en WordPress</a>.</p>
<p>Hasta hace poco en los sitios web de WordPress esto se hacía con un plugin que el administrador del sitio instalaba , pero desde la versión 4.7 viene como una funcionalidad activa por defecto.</p>
<h3>¿Porqué se llama API REST?</h3>
<p>No todas las APIs funcionan de la misma manera, pero sería una locura que cada vez que alguien crea una API lo hiciera sin ceñirse a unos estándares o convenciones. Uno de los estándares más extendidos para APIs basadas en el protocolo HTTP (el protocolo de la Web) es <strong><a href="https://es.wikipedia.org/wiki/Transferencia_de_Estado_Representacional">REST</a></strong>, <strong>Representational State Transfer</strong> o <strong>Transferencia de Estado Representacional</strong>. REST es un protocolo cliente servidor sin estado (al igual que HTTP), con unas pocas operaciones básicas definidas: GET, POST, PUT y DELETE; los recursos son accedidos mediante <strong>URIs</strong> bien definidas (una URI es como una URL pero más completa); además la información que devuelve una API REST debe contener hiperenlaces para acceder a otros recursos.</p>
<h2>Planteamiento del reto</h2>
<p>En lugar de leer este tutorial de cabo a rabo te animo a asumirlo como un reto intentando hallar tu propia solución antes de ver la que planteo al final como ejemplo.</p>
<p>En el camino aprenderás a confiar en tus propios recursos, a desarrollar tus capacidades de búsqueda y rastreo de la información y a encontrar una solución original que seguramente supere la aquí propuesta.</p>
<h3>¿Te apuntas? ¡Vamos a ello!</h3>
<p>El reto que te planteo consiste en crear una sencilla página web con PHP accediendo al contenido de algún blog basado en WordPress, como ejemplo puedes usar el blog de ejemplo de la API de WordPress, a cuya API se accede con la siguiente URL <a class="url" href="http://demo.wp-api.org/wp-json" target="_blank" rel="noopener">http://demo.wp-api.org/wp-json</a>/.</p>
<p>Usando esta API te propongo obtener una lista de los artículos que aparecen en portada con un enlace a cada artículo. Cuidado porque la API anterior da alguna pista para encontrar los posts, pero no da directamente los posts, para eso hay otra URL que debes descubrir, pero cuidado porque la URL ha cambiado un par de veces con las versiones de la API y puede que encuentres alguna información anticuada.</p>
<p>Una vez obtenida la URL correcta hay varias maneras de llamar a una API desde PHP, busca en el <a href="http://php.net/manual/es/">manual en línea</a> o mejor pregunta directamente en Google hasta encontrar una que sea lo más simple posible.</p>
<p>Luego tendrás que procesar la información que te devuelve y generar una página HTML sencilla pero completa con el listado de artículos enlazados al contenido de cada uno de ellos en el blog de origen.</p>
<p>Cuando termines puedes dejar tu solución en los comentarios de esta entrada del blog, también puedes acudir ahí para preguntarme alguna duda, aunque te advierto que yo mismo estoy todavía empezando con este tema.</p>
<h2>¡Atención Spoiler!</h2>
<p>A partir de aquí te doy mi solución al reto que planteo. Seguro que no es la mejor, espero que alguien aporte algo más elegante o completo en los comentarios.</p>
<p>Para el ejemplo voy a utilizar mi blog personal al que tengo un poco abandonado, la URL o mejor la URI de la API con los últimos posts sería la siguiente:</p>
<p><a class="url" href="http://wikijuanan.com/wp-json/wp/v2/posts" target="_blank" rel="noopener">http://wikijuanan.com/wp-json/wp/v2/posts</a></p>
<p>Aquí tienes el código PHP que permite acceder a la API y formatear lo que esta me devuelve para generar mi propia página web:</p>
<pre>

<div class="codecolorer-container html4strict solarized-light language-php+html" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="html4strict codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #009900;">&lt;?php</span><br />
<span style="color: #009900;">$uri <span style="color: #66cc66;">=</span> <span style="color: #ff0000;">'http://wikijuanan.com/wp-json/wp/v2/posts'</span>;</span><br />
<span style="color: #009900;">$json <span style="color: #66cc66;">=</span> file_get_contents<span style="color: #66cc66;">&#40;</span>$uri<span style="color: #66cc66;">&#41;</span>;</span><br />
<span style="color: #009900;">$posts<span style="color: #66cc66;">=</span> json_decode<span style="color: #66cc66;">&#40;</span>$json<span style="color: #66cc66;">&#41;</span>;</span><br />
<br />
<span style="color: #009900;">echo <span style="color: #ff0000;">&quot;&lt;html&gt;&lt;body&gt;&lt;h1&gt;</span></span>Blog Wikijuanan<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/h1.html"><span style="color: #000000; font-weight: bold;">h1</span></a>&gt;&lt;<a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;</span>&quot;;<br />
foreach ($posts as $post) { <br />
&nbsp; &nbsp; echo &quot;<span style="color: #009900;">&lt;<a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;&lt;<a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a> <span style="color: #000066;">href</span><span style="color: #66cc66;">=</span><span style="color: #ff0000;">'&quot; . $post-&gt;</span></span>link . &quot;'&gt;&quot; . $post-&gt;title-&gt;rendered . &quot;<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/a.html"><span style="color: #000000; font-weight: bold;">a</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/li.html"><span style="color: #000000; font-weight: bold;">li</span></a>&gt;</span>\n&quot;;<br />
}<br />
echo &quot;<span style="color: #009900;">&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/ul.html"><span style="color: #000000; font-weight: bold;">ul</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/body.html"><span style="color: #000000; font-weight: bold;">body</span></a>&gt;&lt;<span style="color: #66cc66;">/</span><a href="http://december.com/html/4/element/html.html"><span style="color: #000000; font-weight: bold;">html</span></a>&gt;</span>&quot;;</div></td></tr></tbody></table></div>

</pre>
<p>Se podrían hacer muchas más cosas, como poner el autor de cada artículo, la fecha de publicación, un resumen del mismo, etc.</p>
<p>Y esto no es nada, también podríamos acceder a la API autenticándonos previamente para publicar contenidos, contestar comentarios automáticamente, etc. Pero yo ahí todavía no he llegado&#8230;</p>
<h2>Resumiendo</h2>
<p>La API REST de WordPress provee la funcionalidad necesaria para que una aplicación pueda consultar, añadir, modificar y eliminar información de una instalación de WordPress.<br />
Para obtener y enviar información al sitio se utiliza el formato JSON, que es la notación de JavaScript para representar objetos de manera literal.<br />
Para &#8220;atacar&#8221; esta API se puede utilizar cualquier lenguaje o tecnología: JavaScript, PHP, Java, Node.js, Python, etc. Con la API de WordPress se puede hacer cualquier cosa, el límite es nuestra imaginación.</p>
<h2>Enlaces para seguir aprendiendo</h2>
<ul>
<li><a class="url" href="https://developer.wordpress.org/rest-api/" target="_blank" rel="noopener">https://developer.wordpress.org/rest-api/</a></li>
<li><a class="url" href="https://www.genbetadev.com/desarrollo-web/wordpress-rest-api" target="_blank" rel="noopener">https://www.genbetadev.com/desarrollo-web/wordpress-rest-api</a></li>
<li><a class="url" href="https://decodecms.com/como-usar-la-rest-api-de-wordpress/" target="_blank" rel="noopener">https://decodecms.com/como-usar-la-rest-api-de-wordpress/</a></li>
<li><a class="url" href="https://www.hostinger.es/tutoriales/guia-para-principiantes-api-rest-wordpress/" target="_blank" rel="noopener">https://www.hostinger.es/tutoriales/guia-para-principiantes-api-rest-wordpress/</a></li>
<li><a class="url" href="https://codex.wordpress.org/WordPress_APIs" target="_blank" rel="noopener">https://codex.wordpress.org/WordPress_APIs</a></li>
</ul>
<h2>Agradecimientos</h2>
<p>Este artículo va dedicado a dos personas:</p>
<p>A mi compañero Mario, junto al que aprendo Symfony mientras comemos palmeras como si no hubiera mañana, que fue quien me introdujo el gusanillo este de la API de WordPress.</p>
<p>Y a Nuria, a quien intento enseñar programación, y que con sus constantes maquinaciones para dominar WordPress me animó sin saberlo a escribir este artículo para empezar a explorar el asunto.</p>
]]></content:encoded>
            <wfw:commentRss>http://galatar.com/como-acceder-a-la-api-de-wordpress-desde-php/feed/</wfw:commentRss>
            <slash:comments>0</slash:comments>
            <post-id xmlns="com-wordpress:feed-additions:1">61</post-id>
        </item>
        <item>
            <title>Automatiza la creación de tus proyectos con Composer</title>
            <link>http://galatar.com/automatiza-la-creacion-de-tus-proyectos-con-composer/</link>
            <comments>http://galatar.com/automatiza-la-creacion-de-tus-proyectos-con-composer/#comments</comments>
            <pubDate>Tue, 30 Jan 2018 18:25:37 +0000</pubDate>
            <dc:creator><![CDATA[Juanan Ruiz]]></dc:creator>
            <category><![CDATA[Herramientas]]></category>

            <guid isPermaLink="false">http://galatar.com/?p=17</guid>
            <description>
                <![CDATA[Que es Composer y en que puede ayudarme Cuando creas un nuevo proyecto de desarrollo de código, sea en el lenguaje que sea, no creo que empieces desde cero y teclees todo el código desde principio a fin. Normalmente vas a utilizar partes de algún proyecto ya desarrollado, por ti u otra persona, como eje [&#8230;]]]></description>
            <content:encoded><![CDATA[<h2>Que es Composer y en que puede ayudarme</h2>
<p>Cuando creas un nuevo proyecto de desarrollo de código, sea en el lenguaje que sea, no creo que empieces desde cero y teclees todo el código desde principio a fin. Normalmente vas a utilizar partes de algún proyecto ya desarrollado, por ti u otra persona, como eje del proyecto y luego irás añadiendo librerías por aquí y por allá para empezar con alguna base. Me arriesgaría a decir que todo este código &#8220;importado&#8221; puede llegar a suponer el 75% del proyecto.</p>
<p>Normalmente lo que hacemos para esta tarea es copiar una carpeta de una librería que usamos en un proyecto del año pasado, otra que encontramos hace poco en la web, código que hemos desarrollado para un proyecto anterior y que poco a poco vamos adaptando a este, etc.</p>
<p>El problema es que vamos mezclando versiones de librería que muchos veces son incompatibles entre si (no las librerías, sino las versiones) o que son incompatibles con nuestra versión actual de PHP. Además suele ser una locura casarlas entre si, llamar a unas desde otra y, no digamos ya, actualizarlas cuando salgan nuevas versiones o parches de seguridad.</p>
<p>Para este tipo de escenarios, propios de una peli de terror, se inventaron los gestores de dependencias, que no son otra cosa que utilidades que te ayudan a instalar los paquetes que necesites y a ir comprobando e instalado las dependencias que, a su vez, tienen esos paquetes para funcionar.<br />
<span id="more-17"></span><br />
A nivel de sistema operativo un ejemplo serían <strong>apt</strong> y <strong>yum</strong> en Linux; para Javascript existen <strong>npm</strong> o <strong>bower</strong> y Java tiene <strong>Maven</strong>. Para PHP tenemos la fortuna de contar con <strong>Composer</strong></p>
<p><img class="aligncenter wp-image-18 size-full" src="http://galatar.com/wp-content/uploads/2018/01/logo-composer.png" alt="" width="250" srcset="http://galatar.com/wp-content/uploads/2018/01/logo-composer.png 290w, http://galatar.com/wp-content/uploads/2018/01/logo-composer-244x300.png 244w" sizes="(max-width: 290px) 100vw, 290px" /></p>
<h3>Instalación desde Windows</h3>
<p>Descarga el ejecutable para hacer una instalación automatizada desde la web de Composer <a href="https://getcomposer.org/doc/00-intro.md#installation-windows" target="_blank" rel="noopener">https://getcomposer.org/doc/00-intro.md#installation-windows</a></p>
<p>Tras la instalación podrás utilizar Composer desde cualquier directorio utilizando la línea de comandos y tecleando <b>php composer.phar</b></p>
<h3>Instalación desde Linux y Mac</h3>
<p>Accede a la página de instalación de Composer y sigue las instrucciones <a href="https://getcomposer.org/download/" target="_blank" rel="noopener">https://getcomposer.org/download/</a> (el proceso de instalación cambia con cada versión así que es mejor que lo mires allí). Desde estos sistemas se puede utilizar Composer directamente desde línea de comando como si fuera un ejecutable sin necesidad de invocar a php. Así que, una vez instalado abre un terminal y teclea <b>composer</b></p>
<h2>Comenzar a utilizar Composer</h2>
<p>Composer no funciona a nivel global, sino a nivel de proyecto. Una vez instalado accede desde una terminal o línea de comandos al directorio raíz de tu proyecto y teclea <b>composer init</b> ó <b>php composer.phar init</b> si desarrollas con Windows.</p>
<p>Esto arranca el generador de configuración de Composer, que, de manera interactiva te irá pidiendo datos para generar el fichero de configuración de dependencias para tu proyecto, el fichero <b>composer.json</b>.</p>
<p>Te recomiendo irlo haciendo en paralelo a medida que vas siguiendo este tutorial.</p>
<p><img class="aligncenter size-large wp-image-19" src="http://galatar.com/wp-content/uploads/2018/01/composer_init-1024x531.png" alt="Cuadro de diálogo de composer init" width="700" srcset="http://galatar.com/wp-content/uploads/2018/01/composer_init-1024x531.png 1024w, http://galatar.com/wp-content/uploads/2018/01/composer_init-300x156.png 300w, http://galatar.com/wp-content/uploads/2018/01/composer_init-768x398.png 768w, http://galatar.com/wp-content/uploads/2018/01/composer_init.png 1130w" sizes="(max-width: 1024px) 100vw, 1024px" /></p>
<p>Primero te pide el nombre del proyecto que vas a generar, en realidad el lo llama &#8220;package&#8221; porque para Composer todo son paquetes y el formato que suele usarse es: <b>nombre_desarrollador/nombre_paquete</b>, si eres un pistolero solitario, o <b>nombre_empresa/nombre_paquete</b> si desarrollas para una empresa u organización. Luego te pide una descripción del proyecto, un número de versión para reflejar el estado de madurez del mismo (puedes dejarlo en blanco de momento), el tipo de paquete que vas a crear: librería, proyecto, metapaquete, plugin de Composer y por último el <a href="https://es.wikipedia.org/wiki/Licencia_de_software">tipo de licencia</a> que vas a usar para tu proyecto (propietaria, GPL, BSD, MIT, etc. ).</p>
<p>Con esto ya tienes los parámetros básicos de tu proyecto, a continuación puedes empezar a declarar las dependencias que vas a utilizar. Para ello, continúa con la configuración (dile <strong>Yes</strong> cuando te pregunte si vas a definir dependencias).</p>
<p>Para cada dependencia que quieras definir primero pones el nombre aproximado del paquete para que Composer lo busque en su base de datos de paquetes (<a href="https://packagist.org/" target="_blank" rel="noopener">https://packagist.org/</a>), luego eliges uno de entre los resultados y a continuación pones la versión que quieres (déjalo en blanco si quieres la última). A modo de ejemplo instala el gestor de plantillas <strong>twig/twig</strong>. Tardará un poquito y de nuevo te preguntará si quieres seguir agregando dependencias.</p>
<p>Si quieres puedes seguir definiendo dependencias, cuando quieras parar pulsa la tecla <b>enter</b> la próxima vez que te pregunte <b>Search for a package:</b></p>
<p>Cuidado no pulses <b>CTRL-C</b> ni cierres el terminal antes de terminar porque abortarías todo el proceso.</p>
<p>A continuación te pregunta si quieres definir dependencias en fase de desarrollo, si tienes alguna clara, adelante, si no teclea <b>No</b> para salir. Entonces te preguntará si quieres crear el fichero de configuración con los datos que has ido proporcionando, teclea <b>Yes</b> o pulsa <b>enter</b> para terminar.</p>
<p>Con esto se genera un fichero que se graba en la carpeta de tu proyecto como <b>composer.json</b> Abre el fichero para darle un vistazo y verás que contiene las opciones que has ido indicando.</p>
<div class="codecolorer-container javascript solarized-light language-js" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br /></div></td><td><div class="javascript codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;name&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;galatar/tuto_composer&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;description&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Tutorial sobre composer&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;project&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;require&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;twig/twig&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;^2.4&quot;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;authors&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#91;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;name&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Juanan Ruiz&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;email&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;juanan@us.es&quot;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#93;</span><br />
<span style="color: #009900;">&#125;</span></div></td></tr></tbody></table></div>
<p>De momento no se ha descargado nada, ni se ha creado ningún otro fichero, para que Composer ejecute el fichero de configuración que acabas de definir escribe <b>composer install</b> en tu terminal.</p>
<p>Una vez que termine el proceso de descarga, a veces tarda un rato, puedes echar un vistazo a las carpetas y ficheros que se han creado en tu proyecto, en principio tendrás un nuevo fichero <b>composer.lock</b> y una carpeta <b>vendor</b></p>
<div class="codecolorer-container text solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">.<br />
├── composer.json<br />
├── composer.lock<br />
└── vendor<br />
&nbsp; &nbsp; ├── autoload.php<br />
&nbsp; &nbsp; ├── composer<br />
&nbsp; &nbsp; ├── symfony<br />
&nbsp; &nbsp; └── twig</div></td></tr></tbody></table></div>
<p>El fichero <strong>composer.lock</strong> almacena los datos de los paquetes que Composer ha descargado, si le das un vistazo verás que contiene bastante información porque cada paquete que descargas tiene su propio fichero de dependencias (su propio composer.json) que queda reflejado en este fichero. Ten cuidado porque nunca debes tocar este fichero a mano, los cambios que necesites realizar los haces en tu fichero <b>composer.json</b> y luego los haces efectivos con la orden <b>composer update</b> . Por último, pero no menos importante, Composer crea la carpeta <b>vendor</b> donde se guardan los ficheros de los paquetes que has instalado y los ficheros que el propio Composer necesita para funcionar.</p>
<h2>Instalar paquetes para el entorno de desarrollo</h2>
<p>Composer también te permite especificar paquetes que en principio estarán disponibles sólo en modo &#8220;desarrollo&#8221;, o sea, que solo deberían descargarse y utilizarse en los equipos de desarrollo y testeo de tu aplicación.</p>
<p>Habrás visto que una de las opciones que aparece al final del asistente de <b>composer init</b> dice algo así:</p>
<div class="codecolorer-container text solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">Would you like to define your dev dependencies (require-dev) interactively [yes]?</div></td></tr></tbody></table></div>
<p>Pues los paquetes que instales en ese momento se instalarán en una rama especial del fichero <b>composer.json</b> llamada <b>require-dev</b>.</p>
<p>Si no lo haces en ese momento también podrás añadir paquetes a esa rama en cualquier momento desde la línea de comandos usando algo como: <b>composer require monolog/monolog &#8211;dev</b></p>
<p>Que instala <strong>Monolog</strong> un paquete de gestión de información super completo para hacer el seguimiento de logs de tu proyecto en modo desarrollo. Dentro de tu archivo composer.json se añadirá algo así:</p>
<div class="codecolorer-container javascript solarized-light language-js" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="javascript codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">...<br />
<span style="color: #3366CC;">&quot;require-dev&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;monolog/monolog&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;^1.23&quot;</span><span style="color: #339933;">,</span><br />
<span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
...</div></td></tr></tbody></table></div>
<p>En cualquier caso ten en cuenta que Composer no puede averiguar por arte de magia cuando está en un equipo de desarrollo y cuando en uno de producción, por lo que cuando estés desplegando tu proyecto en este último utiliza siempre <b>composer install &#8211;no-dev</b> o <b>composer update &#8211;no-dev</b></p>
<h2>Trabajar con un proyecto existente que utiliza Composer</h2>
<p>Si trabajas en equipo puede que otra persona haya creado y compartido contigo el proyecto. O puede que lo hayas creado tú siguiendo este tutorial y ahora quieras compartirlo con alguien más.</p>
<p>En este caso ya partes de un fichero <b>composer.json</b> que has debido recibir o compartir con el resto del proyecto. Lo que no has debido recibir ni compartir, si estás haciendo las cosas bien, es la carpeta <b>vendor</b> y su contenido.</p>
<p>Esa carpeta con sus ficheros y sus carpetas se van a crear en el nuevo entorno ejecutando <b>composer install</b> desde la raíz del proyecto.</p>
<p>Si utilizas un gestor de dependencias como <b>git</b> para programar en equipo (o simplemente para guardarte las espaldas) debes incluir en tu repositorio los archivos <b>composer.json</b> y <b>composer.lock</b>, pero debes excluir el directorio <b>vendor</b>. Este se creará solito en nuevas instancias de tu proyectos cuando ejecutes el comando <b>composer install</b> como has visto arriba.</p>
<h2>Autocarga de paquetes</h2>
<p>La mayoría de los paquetes que descargues incluirán su propia información de autoload, para poder instanciar las clases que contienen. Otro de las ventajas de Composer es que el se encarga de organizar todo la autocarga directamente desde un fichero centralizado, este fichero se llama <strong>autoload.php</strong> y lo encontrarás en la carpeta <b>vendor</b> de tu proyecto.</p>
<p>Para poder acceder a cualquier clase sólo tendrás que incluir el fichero <b>autoload.php</b> desde tu script.</p>
<div class="codecolorer-container php solarized-light language-php" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br /></div></td><td><div class="php codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'../vendor/autoload.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$twig_loader</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Twig_Loader_Filesystem<span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'../templates'</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$twig</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Twig_Environment<span style="color: #009900;">&#40;</span><span style="color: #000088;">$twig_loader</span><span style="color: #339933;">,</span> <a href="http://www.php.net/array"><span style="color: #990000;">array</span></a><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">'cache'</span> <span style="color: #339933;">=&gt;</span> <span style="color: #0000ff;">'../cache/twig'</span><span style="color: #339933;">,</span><span style="color: #009900;">&#41;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></td></tr></tbody></table></div>
<p>También puedes cargar tus propias clases utilizando Composer, sigue leyendo.</p>
<h2>Carga tus clases automáticamente con Composer</h2>
<p>Si ya sabes de que van los espacios de nombre en PHP (espero que si) ahora es el momento de declarar el espacio de nombre raíz para tu proyecto y la carpeta donde el interprete de php debe buscar tus clases. Para ello añade algo parecido a lo siguiente en el fichero <b>composer.json</b></p>
<div class="codecolorer-container javascript solarized-light language-js" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br /></div></td><td><div class="javascript codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #3366CC;">&quot;autoload&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;psr-4&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #3366CC;">&quot;Galatar<span style="color: #000099; font-weight: bold;">\\</span>TutoComposer<span style="color: #000099; font-weight: bold;">\&quot;</span>: &quot;</span>src<span style="color: #3366CC;">&quot;<br />
&nbsp; &nbsp; }<br />
}</span></div></td></tr></tbody></table></div>
<p>Con lo que tendrás algo así:</p>
<div class="codecolorer-container javascript solarized-light language-js" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br />13<br />14<br />15<br />16<br />17<br />18<br />19<br />20<br />21<br />22<br /></div></td><td><div class="javascript codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #009900;">&#123;</span><br />
&nbsp; <span style="color: #3366CC;">&quot;name&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;galatar/tuto_composer&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #3366CC;">&quot;description&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;Tutorial sobre composer&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #3366CC;">&quot;type&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;project&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #3366CC;">&quot;require&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;twig/twig&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;^2.4&quot;</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #3366CC;">&quot;require-dev&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;monolog/monolog&quot;</span><span style="color: #339933;">:</span> <span style="color: #3366CC;">&quot;^1.23&quot;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #009900;">&#125;</span><span style="color: #339933;">,</span><br />
&nbsp; <span style="color: #3366CC;">&quot;autoload&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;psr-4&quot;</span><span style="color: #339933;">:</span> <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #3366CC;">&quot;Galatar<span style="color: #000099; font-weight: bold;">\\</span>TutoComposer<span style="color: #000099; font-weight: bold;">\&quot;</span>: &quot;</span>src<span style="color: #3366CC;">&quot;<br />
&nbsp; &nbsp; &nbsp; }<br />
&nbsp; },<br />
&nbsp; &quot;</span>authors<span style="color: #3366CC;">&quot;: [<br />
&nbsp; &nbsp; &nbsp; {<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;</span>name<span style="color: #3366CC;">&quot;: &quot;</span>Juanan Ruiz<span style="color: #3366CC;">&quot;,<br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &quot;</span>email<span style="color: #3366CC;">&quot;: &quot;</span>juanan<span style="color: #339933;">@</span>us.<span style="color: #660066;">es</span><span style="color: #3366CC;">&quot;<br />
&nbsp; &nbsp; &nbsp; }<br />
&nbsp; ]<br />
}</span></div></td></tr></tbody></table></div>
<p>Ahora por fin podrás empezar a escribir tus primeras clases dejando en manos de Composer la carga automática de las mismas (autoload).</p>
<p>Crea una carpeta <b>src</b> en la raíz del proyecto y crea dentro de ella un fichero <b>Persona.php</b> con el siguiente contenido:</p>
<div class="codecolorer-container php solarized-light language-php" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br /></div></td><td><div class="php codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #666666; font-style: italic;">// src/Persona.php</span><br />
<span style="color: #000000; font-weight: bold;">namespace</span> Galatar\TutoComposer<span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">class</span> Persona<br />
<span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; <span style="color: #000000; font-weight: bold;">public</span> <span style="color: #000000; font-weight: bold;">function</span> saluda<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#123;</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; <span style="color: #b1b100;">print</span><span style="color: #009900;">&#40;</span><span style="color: #0000ff;">&quot;Hola soy una persona&quot;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
&nbsp; &nbsp; <span style="color: #009900;">&#125;</span><br />
<span style="color: #009900;">&#125;</span></div></td></tr></tbody></table></div>
<p>Crea también en la raíz del proyecto una carpeta <strong>public</strong> y escribe en ella un fichero <strong>index.php</strong> con el siguiente contenido:</p>
<div class="codecolorer-container php solarized-light language-php" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br /></div></td><td><div class="php codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;"><span style="color: #000000; font-weight: bold;">&lt;?php</span><br />
<span style="color: #666666; font-style: italic;">// tuto_galatar/public/index.php</span><br />
<span style="color: #b1b100;">require_once</span> <span style="color: #0000ff;">'../vendor/autoload.php'</span><span style="color: #339933;">;</span><br />
<span style="color: #000000; font-weight: bold;">use</span> Galatar\TutoComposer\Persona<span style="color: #339933;">;</span><br />
<span style="color: #000088;">$persona</span> <span style="color: #339933;">=</span> <span style="color: #000000; font-weight: bold;">new</span> Persona<span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span><br />
<span style="color: #000088;">$persona</span><span style="color: #339933;">-&gt;</span><span style="color: #004000;">saluda</span><span style="color: #009900;">&#40;</span><span style="color: #009900;">&#41;</span><span style="color: #339933;">;</span></div></td></tr></tbody></table></div>
<p>Ahora tu estructura de directorios debería parecerse a esto, si te fijas ya tienes un pequeño framework:</p>
<div class="codecolorer-container text solarized-light" style="overflow:auto;white-space:nowrap;border:1px solid #9F9F9F;width:435px;"><table cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;text-align:center;color:#888888;background-color:#EEEEEE;border-right: 1px solid #9F9F9F;"><div>1<br />2<br />3<br />4<br />5<br />6<br />7<br />8<br />9<br />10<br />11<br />12<br /></div></td><td><div class="text codecolorer" style="padding:5px;font:normal 12px/1.4em Monaco, Lucida Console, monospace;white-space:nowrap;">.<br />
├── composer.json<br />
├── composer.lock<br />
├── public<br />
│   └── index.php<br />
├── src<br />
│   └── Persona.php<br />
└── vendor<br />
&nbsp; &nbsp; ├── autoload.php<br />
&nbsp; &nbsp; ├── composer<br />
&nbsp; &nbsp; ├── symfony<br />
&nbsp; &nbsp; └── twig</div></td></tr></tbody></table></div>
<p>Activa desde consola el servidor web que viene integrado con php utilizando la orden: <b>php -S localhost:8000</b><br />
Ahora ve a tu navegador web y teclea <a href="http://localhost:8000" target="_blank" rel="noopener">http://localhost:8000</a></p>
<p>Debería aparecer una página con la frase:<b>Hola soy una persona</b></p>
<p>Gracias por haber llegado hasta aquí y espero que este tutorial te haya sido de utilidad. </p>
<p>Si algo no ha ido bien repasa de nuevo las instrucciones anteriores. Si tienes alguna duda o te gustaría que hablara del algún tema relacionado déjame un comentario e intentaré atenderte en cuanto pueda.</p>
<h3>Para más información</h3>
<ul>
<li><a href="http://librosweb.es/libro/composer/capitulo_2/cargando_clases_de_forma_automatica.html"> Libros Web: Composer, el manual oficial</a></li>
</ul>
]]></content:encoded>
            <wfw:commentRss>http://galatar.com/automatiza-la-creacion-de-tus-proyectos-con-composer/feed/
            </wfw:commentRss>
            <slash:comments>1</slash:comments>
            <post-id xmlns="com-wordpress:feed-additions:1">17</post-id>
        </item>
    </channel>
</rss>